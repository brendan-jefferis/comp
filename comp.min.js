"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Comp=function(){function Comp(){_classCallCheck(this,Comp),this.components={}}// createRecorder(actions, view = ()=>{}) {
//     let path = window.location.pathname;
//     let model = {
//         pageLoadTimestamp: Date.now(),
//         steps: [],
//         components: {},
//         recording: true,
//         sessionName: path.substr(1, path.indexOf('.')-1).split('/').join('_')
//     };
//     this.recorder = new Component("recorder", actions, view, model);
// }
return _createClass(Comp,[{key:"create",value:function create(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};this.components[a]=new Component(a,b,c,d)}}]),Comp}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Component=function(){function Component(a,b,c,d){if(_classCallCheck(this,Component),null==a||""===a)throw new Error("Your component needs a name");if(null==b)throw new Error(a+" needs some actions! Here's an example of an Actions function:\r\n\r\n// It must be a function that takes a model and returns an object of functions, e.g.\r\n\r\nYourComponent.Actions = function (model) {\r\n    return {\r\n        sayHello: function () { console.log('Hi.'); },\r\n        greet: function (name) { console.log('Hello, ' + name); }\r\n    }\r\n}\r\n\r\n");this.componentName=a;var e=c&&c(),f=e&&e.init?e.init:function(){},g=e&&e.render?e.render:function(){};Object.assign(this,this.componentize(b(d),g,d)),f(this,d)}return _createClass(Component,[{key:"componentize",value:function componentize(a,b,c){var _this=this;b(c);var d={};return Object.keys(a).map(function(e){d[e]=function(){for(var _len=arguments.length,f=Array(_len),_key=0;_key<_len;_key++)f[_key]=arguments[_key];var g=a[e].apply(a,f);// if (componentizer.recorder && componentName !== "recorder" && componentizer.recorder.get("recording")) {
//     componentizer.recorder.recordStep(componentName, model, action, args);
// }
g&&g.then&&_this.handlePromise(g,b),b(c)}},this),d.get=function(e){return c[e]},d}},{key:"handlePromise",value:function handlePromise(a,b){a.then(function(c){if(null==c)throw new Error("No model received: aborting render");b(c)}).catch(function(c){"string"==typeof c?console.error(c):console.error("Error unhandled by component. Add a catch handler to your AJAX method.")})}}]),Component}();var comp=new Comp;"undefined"==typeof exports||exports.nodeType?window.comp=comp:"undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=comp);

//# sourceMappingURL=comp.min.js.map