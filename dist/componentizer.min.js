!function(n){function e(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return n[o].call(t.exports,t,t.exports,e),t.l=!0,t.exports}var r={};return e.m=n,e.c=r,e.i=function(n){return n},e.d=function(n,r,o){e.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:o})},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,r){"use strict";function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(n,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(e,r,o){return r&&n(e.prototype,r),o&&n(e,o),e}}(),i=function(){function n(){o(this,n)}return t(n,[{key:"createRecorder",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=window.location.pathname,t={pageLoadTimestamp:Date.now(),steps:[],components:{},recording:!0,sessionName:o.substr(1,o.indexOf(".")-1).split("/").join("_")};this.recorder=new n.Component("recorder",e,r,t)}},{key:"create",value:function(e,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};void 0===this.components&&(this.components={}),this.components[e]=new n.Component(e,r,o,t)}}]),n}();e.default=i,i.Component=function(){function n(e,r,t,i){if(o(this,n),null==e||""===e)throw new Error("Your component needs a name");if(null==r){var c="// It must be a function that takes a model and returns an object of functions, e.g.\r\n\r\nYourComponent.Actions = function (model) {\r\n    return {\r\n        sayHello: () { console.log('Hi.'); },\r\n        greet: (name) { console.log('Hello, ' + name); }\r\n    }\r\n}";throw new Error(e+" needs some actions! Here's an example of an Actions function:\r\n\r\n"+c+"\r\n\r\n")}this.componentName=e;var a=t&&t(),u=a&&a.init?a.init:function(){},s=a&&a.render?a.render:function(){};Object.assign(this,this.componentize(this.componentName,r(i),s,i)),u(this,i),componentizer.recorder&&"recorder"!==e&&componentizer.recorder.storeComponent(this,i)}return t(n,[{key:"componentize",value:function(n,e,r,o){var t=this;r(o);var i={};return Object.keys(e).map(function(c){i[c]=function(){for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];var s=e[c].apply(e,a);componentizer.recorder&&"recorder"!==n&&componentizer.recorder.get("recording")&&componentizer.recorder.recordStep(n,o,c,a),s&&s.then&&t.handlePromise(s,r),r(o)}},this),i.get=function(n){return o[n]},i}},{key:"handlePromise",value:function(n,e){n.then(function(n){if(null==n)throw new Error("No model received: aborting render");e(n)}).catch(function(n){"string"==typeof n?console.error(n):console.error("Error unhandled by component. Add a catch handler to your AJAX method.")})}}]),n}()}]);