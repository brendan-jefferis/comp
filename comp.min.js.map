{"version":3,"sources":["comp.min.js"],"names":["global","factory","exports","module","define","amd","comp","this","inspectSyntax","str","Function","e","SyntaxError","getEventTarget","event","window","target","srcElement","arr","charCodeCache","index","a","b","aLen","length","bLen","bCharCode","ret","tmp","tmp2","i","j","charCodeAt","threshold","suggestActions","component","Error","suggestions","Object","keys","map","actionName","distance","push","term","sort","registerEventDelegator","componentHtmlTarget","document","querySelector","name","Event","prototype","ev","addEventListener","toLowerCase","delegateEvent","action","getEventActionFromElement","suggestionsMessage","x","join","args","apply","bubbleUntilActionFound","element","root","actionStr","getAttribute","type","tempDiv","createElement","appendChild","cloneNode","innerHTML","parentNode","extractActionName","extractArguments","nameResult","match","exec","split","arg","argList","indexOf","dataset","assign","compEvents","freeze","parser","DOMParser","htmlType","xhtmlType","testCode","documentRootName","supportsHTMLType","supportsXHTMLType","parseFromString","err","parseHtml","parseHTML","markup","rootName","doc","documentElement","body","firstChild","isRoot","implementation","createHTMLDocument","KEY_PREFIX","NODE_INDEX","NODE_MOUNTED","ELEMENT_TYPE","Node","ELEMENT_NODE","DOCUMENT_TYPE","DOCUMENT_NODE","setDOM","KEY","IGNORE","CHECKSUM","index$1","prev","next","assert","nodeType","nodeName","setNode","mount","getCheckSum","isIgnored","setChildNodes","childNodes","setAttributes","attributes","newPrev","replaceChild","nodeValue","dismount","parent","ns","namespaceURI","localName","getNamedItemNS","removeNamedItemNS","setNamedItemNS","value","prevChildNodes","nextChildNodes","key","newPosition","nextEl","keyNodes","removeChild","insertBefore","result","len","el","getKey","node","id","NaN","dispatch","child","nextSibling","createEvent","prop","initEvent","defineProperty","dispatchEvent","val","msg","unwrapExports","__esModule","createCommonjsModule","fn","index$2","chars","&",">","<","\"","'","`","re","RegExp","arguments","undefined","String","replace","htmlEscape","html","literals","_len","substs","Array","_key","raw","reduce","acc","lit","subst","isArray","endsWith","slice","components","componentize","actions","render","model","returnValue","then","handlePromise","get","promise","updatedModel","catch","console","error","create","view","example","_view","viewInit","init","viewRender","_model","htmlString","firstElementChild"],"mappings":"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","file":"comp.min.js"}